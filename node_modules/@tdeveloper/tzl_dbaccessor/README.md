# tzl_dbaccessor
The tzl_dbaccessor is an Official Database Adapter for Mongo DB and MySQL created by Teezle for internal purpose.

## Installation 

```sh
$ npm install @tdeveloper/tzl_dbaccessor
```
**NOTE : Need to create an .npmrc file and add the token to access this private npm module.**

## Procedure

#### Mongo db
 
>   const mongoDb = require('@tdeveloper/tzl_dbaccessor').mongo
>      
>    **(or)**
>
>   const {mongo} = require('@tdeveloper/tzl_dbaccessor')

**Connect to mongo db**
```sh
const options = {
    api:'mongodb',
    client : '',
    host : 'your db machine ip address',
    port : 'your db machine port number',
    schema : 'schema/database name',
    auth : true/false,
    username : 'your db machine username' / '',
    password : 'your db machine password' / '',
    authSource : 'admin' / ''  // (Schema that contains authentication details)
};

const mongoObj = new mongoDb(options);   // This constructor creations calls the  connect function. All the mongo db operations can be now carried out through mongoObj.
```
**Note:** 
> **1.** All the options object should be defined .
>
> **2.** If auth is set as **true**, must enter username, password, authsource.

#### Versions
- v1.0.0 - 
    - Features
        - Basic mongo db operations  
    - Functions
        - connect
        - insert
        - save
        - find
        - findOne
        - updateOne
        - updateMany
        - count
        - distinct
        - removeOne
        - removeMany
        - drop

**Note : Please verify /example/mongo.js file in order to know the syntax and procedure to access all mongo db functions**


#### Mysql db
 
>  const mysqlDb = require('@tdeveloper/tzl_dbaccessor').mysql
>  
>    **(or)**
>
> const {mysql} = require('@tdeveloper/tzl_dbaccessor')

 **Connect to mysql db**
```sh
const options = {
    api:'',
    client : 'mysql',
    host : 'your db machine ip address',
    port : 'your db machine port number',
    schema : 'schema/database name',
    auth : '',
    username : 'your db machine username',
    password : 'your db machine password',
    authSource : ''
};

mysqlDb.connect(options); // All the mysql db operations can be now carried out through mysqlDb.
```
**Note:** 
> **1.** All the options object should be defined .

#### Versions
- v1.0.0 - 
    - Features
        - Basic mongo db operations   
     - Functions 
        - connect
        - insert
        - save
        - find
        - findAll
        - findOne
        - findWithPagination
        - findWhereInNotInWithPagination
        - update
        - count
        - distinct
        - remove
        - join
        - rightJoin
        - leftJoin
        - fullOuterJoin
        - min
        - max
        - sum
        - avg
        - greaterthan
        - lesserthan
        - equal
        - notequal
        - between
        - isNotNull

**Note : Please verify /example/mysql.js file in order to know the syntax and procedure to access all mysql db functions**